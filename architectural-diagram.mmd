mermaid```

graph TD

Â  Â  %% --- Core Definitions with Numbered Flow ---



Â  Â  User[ðŸ‘©â€ðŸ’» Customer] -- "(1) Visits Site" --> DNS["ðŸŒ AWS Route 53

Â  Â  three-girls-and-a-wick.com"]



Â  Â  Client[ðŸ‘©â€ðŸ’¼ Client/Store Owner] -- "Manages Store" --> AdminPanel["ðŸ”’ Shopify Admin

Â  Â  manages products & orders"]



Â  Â  DNS -- "(2) Directs Traffic" --> CDN["âš¡ï¸ AWS CloudFront

Â  Â  Global CDN"]



Â  Â  CDN -- "(3) Serves Website" --> Frontend["ðŸ’» Next.js App

Â  Â  on AWS Amplify"]



Â  Â  %% --- Backend and API Connections ---



Â  Â  Frontend -- "(4) Fetches Products" --> CMS["ðŸ“¦ Headless CMS

Â  Â  Shopify Products & Orders"]



Â  Â  Frontend -- "(5) Handles Login/Sign-Up" --> CustomerAccounts["ðŸ‘¤ Shopify Customer Accounts

Â  Â  Login & Order History"]

Â  Â 

Â  Â  Frontend -- "(6) Processes Checkout" --> Payment["ðŸ’³ Payment Gateway

Â  Â  Shopify Payments (Stripe)"]



Â  Â  AdminPanel -- "Updates Products & Orders" --> CMS

Â  Â  CMS -- "Triggers Site Rebuild" --> Frontend

Â  Â  CustomerAccounts -- "Links to Orders" --> CMS





Â  Â  %% --- Logical Grouping ---



Â  Â  subgraph "Customer Experience"

Â  Â  Â  Â  User

Â  Â  Â  Â  DNS

Â  Â  Â  Â  CDN

Â  Â  Â  Â  Frontend

Â  Â  end



Â  Â  subgraph "Business Operations"

Â  Â  Â  Â  Client

Â  Â  Â  Â  AdminPanel

Â  Â  end



Â  Â  subgraph "Backend Services (Headless)"

Â  Â  Â  Â  CMS

Â  Â  Â  Â  Payment

Â  Â  Â  Â  CustomerAccounts

Â  Â  end

Â  Â 

Â  Â  subgraph "Legend"

Â  Â  Â  Â  direction LR

Â  Â  Â  Â  Legend_User["Actors (People)"]

Â  Â  Â  Â  Legend_AWS["AWS Services (Infrastructure)"]

Â  Â  Â  Â  Legend_Shopify["Shopify Services (Business Tools)"]

Â  Â  end



Â  Â  %% --- Styling ---



Â  Â  classDef aws fill:#FF9900,stroke:#333,stroke-width:2px,color:#000

Â  Â  classDef shopify fill:#96BF48,stroke:#333,stroke-width:2px,color:#000

Â  Â  classDef user fill:#ECECEC,stroke:#333,stroke-width:2px,color:#000



Â  Â  class User,Client,Legend_User user

Â  Â  class DNS,CDN,Frontend,Legend_AWS aws

Â  Â  class AdminPanel,CMS,Payment,CustomerAccounts,Legend_Shopify shopify

```